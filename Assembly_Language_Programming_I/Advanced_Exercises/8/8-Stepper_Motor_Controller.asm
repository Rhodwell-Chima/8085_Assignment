MVI A, 80H
OUT 03H

LXI H, STEP_SEQUENCE
MVI C, 04H

MOTOR_LOOP:
MOV A, M
OUT 01H
CALL MOTOR_DELAY
INX H
DCR C
JNZ MOTOR_LOOP
JMP MOTOR_LOOP


MOTOR_DELAY:
LXI D, FFFFH

MOTOR_DELAY_LOOP:
DCX D
MOV A, D
ORA E
JNZ MOTOR_DELAY_LOOP

RET


STEP_SEQUENCE:
DB 09H, 05H, 06H, 0AH
